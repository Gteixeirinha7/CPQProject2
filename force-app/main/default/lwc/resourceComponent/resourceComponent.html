<template>
	<div class="main-resource">
		<lightning-layout multiple-rows horizontal-align="spread">

			<lightning-layout-item class="container__menu" size="12" medium-device-size="3" large-device-size="2">
				<template for:each={resourceList} for:item="resource" for:index="resourceIndex">

					<p
						key={resource.Id}
						data-index={resourceIndex}
						class={resource.class}
						onclick={onClickChooseResource}
					>
						{resource.Name}
					</p>

				</template>
			</lightning-layout-item>

			<lightning-layout-item
				if:true={activatedResourceIndex}
				size="12" medium-device-size="8" large-device-size="9"
			>

				<lightning-layout if:true={hasResourceSelected} class="slds-var-m-vertical_x-small">
					<lightning-layout-item size="12">

						<nav role="navigation" aria-label="Breadcrumbs">
							<ol class="slds-breadcrumb slds-list_horizontal slds-wrap">

								<template for:each={selectedResourceList} for:item="item">

									<li key={item.Id} class="slds-breadcrumb__item slds-var-p-horizontal_medium">
										<span class="slds-badge slds-theme_success">{item.DescricaoRecurso__c}</span>
									</li>

								</template>

							</ol>
						</nav>

					</lightning-layout-item>
				</lightning-layout>

				<template for:each={currentResourceActiveted.ComposicaoProduto__r} for:item="typeResource" for:index="typeIndex">

					<article if:true={typeResource.isShowType} key={typeResource.Id} class={typeResource.class}>
						<div class="slds-card__header slds-grid">
							<header class="slds-media slds-media_center slds-has-flexi-truncate slds-var-p-around_xx-small">
								<div class="slds-media__figure">
									<lightning-icon icon-name="action:new_child_case" size="small"></lightning-icon>
								</div>

								<div class="slds-media__body">
									<h2 class="slds-card__header-title">
										{typeResource.DescricaoRecurso__c}
									</h2>
								</div>

								<div class="slds-no-flex">
									<lightning-button
										if:false={typeResource.isSelected}
										data-index={typeIndex}
										label="Selecionar"
										variant="brand"
										onclick={onClickChooseResourceType}
									>
									</lightning-button>

									<lightning-button
										if:true={typeResource.isSelected}
										label="Selecionado"
										variant="brand"
										disabled
									>
									</lightning-button>
								</div>
							</header>
						</div>

						<!-- <div class="slds-card__body slds-card__body_inner">
							Anything can go into the card body
						</div>

						<footer class="slds-card__footer">
							<a class="slds-card__footer-action" href="#">
								View All
							</a>
						</footer> -->
					</article>

				</template>
			</lightning-layout-item>

		</lightning-layout>
	</div>
</template>